---
permalink: '/global-type-definitions-in-velo/'
date: '2022-07-10T12:00:00.000Z'
modified: '2022-07-10T12:00:00.000Z'
lang: 'en'
title: 'Velo By Wix: Global type definitions'
description: 'How to add a global JSDoc types definition in Velo'
image: '/assets/images/velo.png'
---

# Velo By Wix: Global type definitions

*How to add a global JSDoc types definition in Velo*

<svg aria-label="use jsdoc" viewBox="0 0 1131 516"><g fill="#006fbb"><path d="M0 258v258h1131V0H0v258zm678.4-61.8c3.2.7 6.1 2.1 7.9 3.9 2.5 2.6 2.8 3.4 2.5 8.5-.4 7.8-1.6 8.4-11.5 5.9-4.4-1.2-11.2-2-15.6-2-7.4 0-8 .2-10.3 2.8-3 3.5-3.2 9.4-.5 12.9 2.1 2.6 4.6 3.8 17.6 8.8 16.8 6.3 23.9 15.3 23.8 30-.1 14-5.8 22.2-18.6 26.7-7.5 2.6-28 2.4-35.7-.3-7.2-2.5-10.2-6.7-9.8-13.8.4-7 2-7.7 10.4-4.7 17.1 6.1 30.4 2.7 30.4-8 0-5.7-3-8.3-15-13.2-20.7-8.4-28-16.6-28-31.6 0-8.1 1.6-12.7 6.2-17.7 4.7-5.1 10.2-8 17.8-9.3 6.2-1.1 20.8-.5 28.4 1.1zm73.9.3c18.7 3.9 30.7 15.6 34.7 33.6 1.9 8.6.9 28.9-1.9 36.4-8.1 22.5-27 31.5-60.5 29-8.5-.6-10.2-1-12.3-3.1l-2.3-2.3v-44.4c0-51.3-.5-48.6 9.1-49.8 9.9-1.2 26.3-.9 33.2.6zm-143.7 2 2.5 2.5-.3 35.3c-.3 30.5-.6 35.9-2.2 40.6-2.3 7-9.3 14.1-16.1 16.5-7 2.4-20.4 3.1-31 1.6-7.5-1.1-9.4-1.7-11.7-4.1-2.5-2.4-2.8-3.5-2.8-8.8 0-7.9 1.7-9 10.7-6.7 8.1 2.1 18.7 2.1 22.3 0 1.5-.9 3.6-3.1 4.6-4.8 1.7-2.8 1.9-6.1 2.4-36.3l.5-33.1 2.4-2.6c2.2-2.3 3.2-2.6 9.3-2.6 6 0 7.2.3 9.4 2.5zm-372.2 14.4c14.7 5.2 25.1 15.9 30.2 31.1 1.4 4 1.9 8.4 1.9 16-.1 12.2-2.1 20.3-6 24-2.5 2.3-3.5 2.5-15.7 2.8-15.6.4-17.5 0-19.2-3.8l-1.2-3-2.4 2.5c-3.4 3.6-10.1 5.9-15.5 5.3-12.1-1.4-19.4-13.7-18.2-30.7.8-11.8 4.7-18.8 12.1-22.2 7.4-3.4 15.9-1.8 21.9 3.8 2.4 2.3 2.7 2.4 2.7.8 0-3.3 3-5.5 7.4-5.5 8.5.1 9.6 2.8 9.6 23.5v16.6l5.2-.3c6.2-.4 6.5-1.1 6.7-12.9.2-16.2-6.4-27.7-19.9-34.6-5.1-2.6-6.3-2.8-17.5-2.8-11.1 0-12.4.2-17.7 2.8-7.3 3.6-15 11.9-17.9 19.5-3.1 8-3.1 21.4 0 29.4 2.9 7.6 10.6 15.9 17.9 19.5 4.7 2.3 7.3 2.8 15.4 3.1 8.3.4 10.8.1 16.3-1.9 7.6-2.7 11.4-2 12.9 2.3 1.4 3.9.2 5.7-5.7 8.4-15.1 6.8-35.8 5.3-49.9-3.7-9.7-6.2-17.3-16.9-20.3-28.6-1.9-7.4-1.9-20.3 0-27.8 4.5-17.3 18.7-31.2 35.8-35.1 8.5-1.9 23.4-1.2 31.1 1.5zM411.8 225c5.5 2 7.8 8.8 4.4 13-1.8 2.2-2 2.2-12 1.1-12-1.4-16.7-.8-18.9 2.5-1.4 2.2-1.4 2.6.1 4.8 1.7 2.7 2 2.8 11.9 5 7.4 1.7 15.3 5.3 17.9 8.3 4.9 5.4 6.2 16.6 2.8 24-2.4 5.3-9 9.7-16.9 11.4-6.3 1.3-24.3.6-30.4-1.1-6.6-1.9-10-10.6-5.7-14.5 1.9-1.7 2.7-1.7 9.8-.7 14.8 2.3 21.6 1.3 22.8-3.4 1-3.9-2-6.2-11-8.4-10.7-2.7-15.6-5-19.3-9.3-8-9.2-6.6-22.4 3.2-29.5 5.4-3.9 12.8-5.2 26-4.8 6.6.3 13.5 1 15.3 1.6zm65.3-.4c13 3.9 19.5 13.1 20.7 29.1.4 6.7.3 7.3-2.1 9.7l-2.6 2.6H473c-22.2 0-21.6-.2-18.3 6.7 3.3 7 12.2 9.5 26.4 7.3 7.3-1.1 8.1-1.1 9.9.5 3.9 3.5 1.5 11.2-4.2 13.6-2.3 1-7.3 1.4-16.3 1.3-14.8 0-21-1.8-28.1-7.8-13.1-11.2-15.1-38.5-3.9-53.2 7.4-9.7 24.3-14 38.6-9.8zm372.4 2.3c12 5.9 17.5 16.1 17.5 32.6 0 24.4-14.2 37.9-38.2 36.2-13.7-.9-22.6-6.5-28-17.4-2.8-5.8-3.3-7.9-3.6-16.3-.7-16.3 4.2-27.4 14.7-33.7 7.1-4.3 11.8-5.3 22.4-4.9 7.4.3 9.7.8 15.2 3.5zm74.4-3c6.5.9 10.1 4.3 10.1 9.5 0 5.6-2.2 6.7-13.6 6.4-11.7-.3-15.1 1-18 6.9-2.5 5.2-2.6 20.4-.1 25 3.7 6.9 10.4 9.2 21.8 7.4 8.2-1.4 10.9.1 10.9 5.9 0 8-5.5 10.8-21 10.9-17.9.1-29.9-7.2-34.6-21.2-2.5-7.2-2.5-23.4-.1-30.4 5.9-16.9 20.9-23.8 44.6-20.4zm-624.2 2.5 2.8 2.4.5 23c.4 16.9.8 23.3 1.8 24.5 3.2 3.9 11.8 2.9 16.3-1.9 2.3-2.5 2.4-3.1 2.9-24.1l.5-21.5 2.8-2.4c3.8-3.2 12.2-3.4 16.1-.3l2.6 2v30.7c0 30 0 30.6-2.2 32.9-1.7 1.9-3.2 2.3-7.8 2.3-6.3 0-9.4-1.7-10.4-5.5l-.7-2.6-3.5 3c-1.9 1.7-4.8 3.8-6.6 4.7-4.2 2.2-13.3 2.9-18.8 1.4s-11.3-7.1-13-12.5c-1.4-4.3-2.7-47.7-1.6-52 1.1-4.4 4.4-6.5 10.2-6.5 4.1 0 5.9.5 8.1 2.4z"/><path d="M733.3 213.7c-1 .4-1.3 7.7-1.3 31.9V277l2.6.6c1.4.4 5.2.4 8.5.1 16.2-1.4 23.3-11.6 23.2-33.2 0-17.1-5.1-26.6-16.2-29.9-5.2-1.5-14.2-2-16.8-.9zM210 249.5c-4.3 4.5-4 17.6.5 22.1 3.3 3.2 8.7 3.3 12 0 4.5-4.5 4.5-17.7-.1-22.3-3.3-3.2-9.2-3.2-12.4.2zm248.9-10c-2.7 1.4-5.9 7.8-5.9 11.5 0 1.9.7 2 12.5 2 12.3 0 12.5 0 12.5-2.3-.1-3.4-3.6-10.4-5.8-11.6-2.9-1.5-10.2-1.3-13.3.4zm369.4-.8c-3.1.6-7.1 5-8.3 9.2-.5 2-1 7.2-1 11.6 0 4.4.5 9.6 1 11.6 3.2 11.5 18.3 13.1 23.1 2.5 1.4-3.1 1.9-6.5 1.9-14.1 0-12.2-1.9-17.3-7.3-19.8-3.4-1.7-5.1-1.8-9.4-1z"/></g></svg>

In one of my previous posts, [Type safety your code with JSDoc](/type-safety-your-code-with-jsdoc/), we considered how to use the type definitions and [JSDoc](https://jsdoc.app/) annotations in Velo. In this post, I want to show how we can use global types in Velo editor.

## Global type definitions file

In Velo, we also are able to use global types annotations. The global types will be available on any JS/JSW files on the editor. It could be helpful if you use the same entity in separate files.

To declare global types in Velo, we should create a `*.d.js` file in the public section. For example, I always use `types.d.js` file. The end of the file with `.d.js` is required.

<div class="filetree" role="presentation" aria-label="velo sidebar">
  <div class="filetree_tab filetree_row">
    <strong>Public & Backend</strong>
  </div>
  <div class="filetree_title filetree_row">
    <img src="/assets/images/i/open.svg" alt=""/>
    Public
  </div>
  <div class="filetree_tab filetree_row">
    <img src="/assets/images/i/js.svg" alt=""/>
    types.d.js
  </div>
</div>

Use tag `@typedef`, we describe types.

<aside>

**Syntax**

`@typedef {<TYPE>} <NAMEPATH>`

**Overview**

The `@typedef` tag is useful for documenting custom types, particularly if you wish to refer to them repeatedly. These types can then be used within other tags expecting a type, such as `@type` or `@param`.
</aside>

We can use JSDoc syntax or TypeScript syntax inside JSDoc.

## Use case examples

For example, we want to send a user data object to the [lightbox](https://www.wix.com/velo/reference/wix-window/lightbox) when it opens. And use this data in the lightbox. Using global typedef, we can share types info across a page tab and lightbox page tab.

My user object will have three properties:

**Example of User Data Object**

```json
{
  "memeberId": "3bbf4e2c-528d-4b90-a882-cd80641687fc",
  "nickname": "Bob",
  "email": "bob@email.ua"
}
```

Let's start with types annotation. I prefer to use a [TypeScript object types](https://www.typescriptlang.org/docs/handbook/2/objects.html) syntax for object definitions. It's similar to CSS syntax, where we describe a key name and types inside curly braces separate with semicolons `@typedef { { keyName: type; â€¦ } } TypeName`

**public/types.d.js**

```js
// Filename: public/types.d.js

/**
 * @typedef {{
 *  memeberId: string;
 *  nickname: string;
 *  email: string;
 * }} TUser
 */
```

Now, the `TUser` type is available globally on the project. In the **Page Code Tab**, we apply the `TUser` type for creating a user object.

**Page Code Tab**

```js
import { openLightbox } from 'wix-window';
import { currentMember } from 'wix-members';

$w.onReady(function () {
  $w('#button1').onClick(async () => {
    const memeber = await currentMember.getMember();

    /** @type {TUser} */
    const user = {
      memeberId: memeber._id,
      nickname: memeber.profile.nickname,
      email: memeber.loginEmail,
    };

    openLightbox('Confirm-Lightbox', user);
  });
});
```

You can ensure that the editor starts to work with autocomplete and code analysis if we use types.

Also, we should use the `TUser` type for annotation of lightbox context data. It starts to work with autocomplete and code analysis too.

**Lightbox Page Code Tab**

```js
import { lightbox } from 'wix-window';

$w.onReady(function () {
  /** @type {TUser} */
  const user = lightbox.getContext();

  $w('#text1').text = user.nickname;
  $w('#text2').text = user.email;
});
```

Typed code provides a good developer experience. It's helpful for automatization your development process. You don't need to keep in mind the data structure. And auto types analysis improves your code safety.

## Resources

- [Official documentation for JSDoc 3](https://jsdoc.app/)
- [TypeScript: Documentation - JSDoc Reference](https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html)
- [JSDoc Cheatsheet and Type Safety Tricks](https://docs.joshuatz.com/cheatsheets/js/jsdoc/)

## Posts

- [Type safety your code with JSDoc](/type-safety-your-code-with-jsdoc/)
- [Download your Velo code files to your computer](/velo-filesystem-chrome-extension/)
- [Repeated item event handlers v2.0](/repeated-item-event-handlers-v2/)
- [Query selector for child elements](/velo-query-selector-for-child-elements/)
